---
author: baozi
title: shell
categories: missing-semester
---

### echo

```shell
echo [-neE] [ARGUMENTS]
```

- 当-n 选项，则取消尾随换行符

- 如果-e 选项，则将解释以下反斜杠转义字符:
  - \ 显示反斜杠字符
  
  - \a 警报(BEL)
  
  - \b 显示退格字符
  
  - \c 禁止任何进一步的输出
  
  - \e 显示转义字符
  
  - \f 显示窗体提要字符
  
  - \n 显示新行
  
  - \r 显示回车
  
  - \t 显示水平标签
  
  - \v 显示垂直标签
  
  - 这个-E 项禁用转义字符的解释。这是默认值
  
    

### dig

查询域名的DNS记录，看域名解析到哪里

```bash
dig [@dns服务器] <域名> [查询类型]
```

### grep

| 选项        | 作用                           |
| ----------- | ------------------------------ |
| `-i`        | 忽略大小写                     |
| `-n`        | 显示匹配行的行号               |
| `-v`        | 反向匹配（显示不匹配的行）     |
| `-r` / `-R` | 递归搜索目录下所有文件         |
| `-l`        | 只显示文件名，不显示匹配内容   |
| `-c`        | 只显示匹配的行数               |
| `-o`        | 只输出匹配的字符串，而不是整行 |
| `-E`        | 使用扩展正则（等价于 `egrep`） |
| `-w`        | 只匹配整个单词，而不是部分匹配 |
| `--color`   | 高亮匹配的关键字               |

例如：

```bash
grep "error" /var/log/nginx/error.log
```

这条命令会输出所有包含error的行

### tail

显示文件的最后几行

```bash
tail /var/log/messages
```

| 选项          | 作用                                                        |
| ------------- | ----------------------------------------------------------- |
| `-n <行数>`   | 显示最后 N 行（默认 10 行）                                 |
| `-c <字节数>` | 显示最后 N 个字节                                           |
| `-f`          | 持续输出文件新增内容（实时跟踪）                            |
| `-F`          | 类似 `-f`，但文件被重命名或替换后会重新打开（更适合看日志） |
| `--pid=<PID>` | 和 `-f` 一起用，指定进程退出后自动停止跟踪                  |
| `-q`          | 静默模式，多文件时不显示文件名                              |
| `-v`          | 强制显示文件名（多文件时更清晰）                            |

### chown

修改文件或目录的所有者和所属组

```bash
chown [选项] [新属主][:[新属组]] 文件...
```

例如

```bash
chown alice:developers myfile.txt
```

修改所有者为alice，组为developers

```bash
chown alice myfile.txt
```

修改所有者

```bash
chown :developers myfile.txt
```

所有者不变，只修改组

### dd

`dd if=/dev/zero of=test.txt bs=1M count=10`

### 参数解释：

- `if=/dev/zero`：表示输入来源是一个全是 0 的虚拟设备（会输出无限个 0 字节）
- `of=test.txt`：输出文件名为 `test.txt`
- `bs=1M`：每次写入 1MB
- `count=10`：一共写入 10 次（总计 10MB）